/*!
 * surveyjs-widgets - Widgets for the SurveyJS library v1.8.12
 * Copyright (c) 2015-2019 Devsoft Baltic OÃœ  - http://surveyjs.io/
 * License: MIT (http://www.opensource.org/licenses/mit-license.php)
 */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("widgets/select2",[],t):"object"==typeof exports?exports["widgets/select2"]=t():e["widgets/select2"]=t()}("undefined"!=typeof self?self:this,function(){return function(e){function t(a){if(n[a])return n[a].exports;var o=n[a]={i:a,l:!1,exports:{}};return e[a].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,a){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:a})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=1)}([,function(e,t,n){"use strict";function a(e,t){t=t||window.$;var n={activatedBy:"property",name:"select2",widgetIsLoaded:function(){return"function"==typeof t&&!!t.fn.select2},isFit:function(e){return"property"==n.activatedBy?"select2"===e.renderAs&&"dropdown"===e.getType():"type"==n.activatedBy?"dropdown"==typeof e.getType():"customtype"==n.activatedBy&&"select2"===e.getType()},activatedByChanged:function(t){this.widgetIsLoaded()&&(n.activatedBy=t,e.JsonObject.metaData.removeProperty("dropdown","renderAs"),"property"==t&&(e.JsonObject.metaData.addProperty("dropdown",{name:"renderAs",category:"general",default:"standard",choices:["select2","standard"]}),e.JsonObject.metaData.addProperty("dropdown",{dependsOn:"renderAs",category:"general",name:"select2Config",visibleIf:function(e){return"select2"==e.renderAs}})),"customtype"==t&&(e.JsonObject.metaData.addClass("select2",[],null,"dropdown"),e.JsonObject.metaData.addProperty("select2",{name:"select2Config",category:"general",default:null})))},htmlTemplate:"<div><select style='width: 100%;'></select><textarea></textarea></div>",afterRender:function(e,n){var a=e.select2Config,o=a&&"string"==typeof a?JSON.parse(a):a;o||(o={});var r=t(n).is("select")?t(n):t(n).find("select"),l=t(n).find("textarea");l.addClass(e.cssClasses.other),l.bind("input propertychange",function(){d||(e.comment=l.val())});var i=function(){l.val(e.comment),e.isOtherSelected?l.show():l.hide()},d=!1,s=function(){if(!d){if(d=!0,r.find("option[value='"+e.value+"']").length)r.val(e.value).trigger("change");else if(null!==e.value&&void 0!==e.value){var t=new Option(e.value,e.value,!0,!0);r.append(t).trigger("change")}i(),d=!1}},c=function(){if(r.select2().empty(),!o.placeholder&&e.showOptionsCaption&&(o.placeholder=e.optionsCaption,o.allowClear=!0),o.theme||(o.theme="classic"),o.disabled=e.isReadOnly,o.ajax)r.select2(o),e.keepIncorrectValues=!0;else{var t=[];(o.placeholder||e.showOptionsCaption)&&t.push({id:"",text:""}),o.data=t.concat(e.visibleChoices.map(function(e){return{id:e.value,text:e.text}})),r.select2(o)}n.querySelector(".select2")&&(n.querySelector(".select2").style.width="100%"),n.nextElementSibling&&(n.nextElementSibling.style.marginBottom="1px"),s()};l.prop("disabled",e.isReadOnly),e.readOnlyChangedCallback=function(){r.prop("disabled",e.isReadOnly),l.prop("disabled",e.isReadOnly)},e.registerFunctionOnPropertyValueChanged("visibleChoices",function(){c()}),c(),r.on("select2:select",function(t){e.renderedValue=t.target.value,i()}),r.on("select2:unselecting",function(t){e.renderedValue=null,i()}),e.valueChangedCallback=s,s()},willUnmount:function(e,n){var a=t(n).find("select");a.data("select2")&&a.off("select2:select").select2("destroy"),e.readOnlyChangedCallback=null}};e.CustomWidgetCollection.Instance.addCustomWidget(n)}Object.defineProperty(t,"__esModule",{value:!0}),"undefined"!=typeof Survey&&a(Survey,window.$),t.default=a}])});
//# sourceMappingURL=select2.min.js.map